{"note":"Don't delete this file! It's used internally to help with page regeneration.","body":"Using recent rainfall figures to predict Newtown Creek sewer overflows\r\n===\r\n\r\n## Goal\r\nWe want to predict whether a sewer will overflow soon based on current\r\nrainfall data in order to make [DontFlush.me](http://dontflush.me)'s alerts\r\nmore relevant.\r\n\r\n\r\n## Data sources\r\n\r\n### Overflow statistic\r\nWe received a book from a FOIA request. This book contains graphs of, among\r\nother things, sewer overflow incidents in New York City during the top 10\r\nstorms of 2011 for each of the 14 sewage treatment plants.\r\n\r\n> Dates of the top ten storms, in the order they are presented in the book\r\n> \r\n> * 8/14/2011\r\n> * 8/27/2011\r\n> * 9/6/2011\r\n> * 3/6/2011\r\n> * 4/16/2011\r\n> * 11/22/2011\r\n> * 10/29/2011\r\n> * 9/23/2011\r\n> * 5/17/2011\r\n> * 12/7/2011\r\n\r\nFor each of these 10 storms, the graphs present a 48-hour or 60-hour window\r\nof data around the storm. For 60-hour widows, we only used the first 48-hours.\r\nThis results in a total of 7720 observation-hours, with one observation per\r\nhour.\r\n\r\n![Sewer activity plot from December 7, 2012](2012-12-07.jpg)\r\n\r\n### Rainfall statistic\r\nWe collected rainfall statistics from Weather Underground. We chose this\r\nbecause of the [practical applications blah blah]\r\n\r\n\r\n## Methods\r\n\r\n### Data collection\r\nWe focused on the Newtown Creek sewershed. We have 480 observation-hours\r\n(10 storms at 14 plants) in the book. We measured overflow as hours between\r\nan NC throttle start (solid diamond) and an NC throttle end (empty diamond),\r\ninclusive. For example, the two darkened bands on this plot, from hours t1\r\nto t2, indicate overflow periods.\r\n\r\n![Sewer activity plot from December 7, 2012 with shaded regions representing overflow periods as explained in the above paragraph](2012-12-07-annotated.jpg)\r\n\r\nThe MPS throttle start (solid circle) and end (empty circle) apparently\r\nindicates overflows coming from the Manhattan pump station, which gets sent\r\nthrough the Newtown Creek station. We ignored these overflows.\r\n\r\nFor each of these hours, we also acquired the most recent observation from\r\nWeather Underground. This resulted in a table that looked like this.\r\n\r\n    Date  Hour After 9 am  Overflowing?  Last rainfall figure\r\n    ----  ---- ----------  ------------  --------------------\r\n               No          Yes\r\n\r\nTo account for the diurnal flow, we added an \"after 9 am\" variable, which was\r\n\"no\" for midnight to 9 am and \"yes\" for 10 am on.\r\n\r\n    Date  Hour After 9 am  Overflowing?  Last rainfall figure\r\n    ----  ---- ----------  ------------  --------------------\r\n               No          Yes\r\n\r\n### Model\r\nWe used the following model (in R formula syntax).\r\n\r\n    overflowing ~ Last rainfall figure + after 9 am\r\n\r\nWe also made some plot\r\n\r\nblah blah\r\n\r\n\r\nFigure out\r\n* that weird spike of falses\r\n* 100 records lost in the join\r\n* what family of distribution should the rainfall follow theoretically\r\n\r\nAdd the pictures.\r\nVerify the paper API data by connecting frank's, tom's and casey's.\r\n\r\n## Conclusions\r\n2 mm is a decent cut-off for the guess (http://chainsaw.thomaslevine.com/threshold.png)\r\n\r\nsomething about whether after 9 am matters\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n## Remaining tasks\r\n\r\n1. ~~Get throttling events: Input throttling data from Paper API~~\r\n2. ~~Get precipitation events: Convert Weather data from JSON to CSV~~\r\n3. ~~Build algorithm to correlate throttling events with precipitation events~~\r\n4. Refactor alert system to leverage algorithm from step 3\r\n5. Visualize alert data (TBD)\r\n\r\n## Contributors\r\n* Leif: gathering weather data and data entry (http://github.com/lpercifield)\r\n* Tom: understanding the stats and data entry (http://github.com/tlevine)\r\n* Carl: visualization of weather data (http://github.com/c4rl)\r\n* Casey: data entry and calculations (http://github.com/caseytwebb)\r\n* Mike: data visualzation and structure in tableau (http://github.com/acceleratormt)\r\n* Frank: Excel expert","name":"Overflows-ecohack3","tagline":"","google":""}